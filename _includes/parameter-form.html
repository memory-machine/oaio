<div class="llm-param-form">
  <form id="llmParamsForm">
    <div class="form-row">
      <label for="model">model:</label>
      <input type="text" id="model" name="model" value="o3-mini">
    </div>
    <div class="form-row"> <!-- Added form-row class -->
      <label for="max_output_tokens">max_output_tokens:</label>
      <input type="number" id="max_output_tokens" name="max_output_tokens" value="10240" step="1" min="1" max="1000000">
    </div>
    <div class="form-row">
      <label for="reasoning_effort">reasoning_effort:</label>
      <input type="text" id="reasoning_effort" name="reasoning_effort" value="high">
    </div>
    <div class="form-row">
      <label for="reasoning_summary">reasoning_summary:</label>
      <input type="text" id="reasoning_summary" name="reasoning_summary" value="auto">
    </div>
    <div class="form-row"> <!-- Added form-row class -->
      <label for="temperature">temperature:</label>
      <input type="number" id="temperature" name="temperature" value="1.0" step="0.1" min="0.0" max="2.0">
    </div>
    <div class="form-button-row">
      <a href="#" id="navigateToMachineLink" class="styled-link-button">Write with these settings, Machine.</a>
    </div>
  </form>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const navigateLink = document.getElementById('navigateToMachineLink');
        if (navigateLink) {
            navigateLink.addEventListener('click', function(event) {
                event.preventDefault();
                const form = document.getElementById('llmParamsForm');
                const params = {};
                new FormData(form).forEach((value, key) => {
                if (value) {
                    params[key] = value;
                }
              });

              const queryParams = new URLSearchParams(params);

              // Construct the target URL using Jekyll's relative_url filter for robustness
              const targetBaseUrl = "{{ 'machine' | relative_url }}";
              const targetUrl = targetBaseUrl + '?' + queryParams.toString();

              window.location.href = targetUrl;
            });
        }
    });
</script>

